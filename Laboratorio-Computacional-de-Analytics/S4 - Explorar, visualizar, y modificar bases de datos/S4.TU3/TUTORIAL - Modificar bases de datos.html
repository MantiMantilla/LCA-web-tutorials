
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Modificar bases de datos &#8212; Repositorio de LCA</title>
    
  <link href="../../../_static/css/theme.css" rel="stylesheet" />
  <link href="../../../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/togglebutton.js"></script>
    <script src="../../../_static/clipboard.min.js"></script>
    <script src="../../../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe,.cell"
        const thebe_selector_input = "pre,.cell_input div.highlight"
        const thebe_selector_output = ".output,.cell_output"
    </script>
    <script async="async" src="../../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">Repositorio de LCA</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p class="caption">
 <span class="caption-text">
  Tutoriales Módulo 1
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../S1%20-%20Bienvenida%2C%20estructuras%20de%20datos%20y%20de%20control/S1.TU1/TUTORIAL%20-%20Bienvenida%20a%20Jupyter%20Notebook.html">
   Celdas, variables y tipos de datos, importación de paquetes, y errores
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../S1%20-%20Bienvenida%2C%20estructuras%20de%20datos%20y%20de%20control/S1.TU2/TUTORIAL%20-%20Estructuras%20de%20datos.html">
   Estructuras de datos: listas, tuplas, conjuntos y diccionarios
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Tutoriales Módulo 2
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../S3%20-%20Librerias%20para%20manejo%20de%20datos/S3.TU1/TUTORIAL%20-%20Librerias%20para%20manejo%20de%20datos.html">
   Librerías para manejo de datos:
   <code class="docutils literal notranslate">
    <span class="pre">
     numpy
    </span>
   </code>
   y
   <code class="docutils literal notranslate">
    <span class="pre">
     pandas
    </span>
   </code>
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../../_sources/Laboratorio-Computacional-de-Analytics/S4 - Explorar, visualizar, y modificar bases de datos/S4.TU3/TUTORIAL - Modificar bases de datos.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/mantimantilla/LCA-web-tutorials"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/mantimantilla/LCA-web-tutorials/issues/new?title=Issue%20on%20page%20%2FLaboratorio-Computacional-de-Analytics/S4 - Explorar, visualizar, y modificar bases de datos/S4.TU3/TUTORIAL - Modificar bases de datos.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/mantimantilla/LCA-web-tutorials/main?urlpath=tree/LCA-book/Laboratorio-Computacional-de-Analytics/S4 - Explorar, visualizar, y modificar bases de datos/S4.TU3/TUTORIAL - Modificar bases de datos.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../../../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        <button type="button" class="btn btn-secondary topbarbtn"
            onclick="initThebeSBT()" title="Launch Thebe" data-toggle="tooltip" data-placement="left"><i
                class="fas fa-play"></i><span style="margin-left: .4em;">Live Code</span></button>
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#requisitos">
   Requisitos
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#objetivos">
   Objetivos
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#procesamiento-de-archivos-en-formatos-especiales">
   1. Procesamiento de archivos en formatos especiales
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ejemplo-1">
     Ejemplo 1
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#metodos-para-la-modificacion-de-bases-de-datos">
   2. Métodos para la modificación de bases de datos
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#metodo-set-index">
     2.1. Método
     <code class="docutils literal notranslate">
      <span class="pre">
       set_index
      </span>
     </code>
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#ejemplo-2">
       Ejemplo 2
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#metodo-reset-index">
     2.2. Método
     <code class="docutils literal notranslate">
      <span class="pre">
       reset_index
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#metodo-drop">
     2.3. Método
     <code class="docutils literal notranslate">
      <span class="pre">
       drop
      </span>
     </code>
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#ejemplo-3">
       Ejemplo 3
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#metodo-groupby">
     2.4. Método
     <code class="docutils literal notranslate">
      <span class="pre">
       Groupby
      </span>
     </code>
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#ejemplo-4">
       Ejemplo 4
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#metodo-apply">
     2.5. Método
     <code class="docutils literal notranslate">
      <span class="pre">
       apply
      </span>
     </code>
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#trabajar-con-funciones-declaradas-previamente">
       Trabajar con funciones declaradas previamente
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#ejemplo-5">
         Ejemplo 5
        </a>
       </li>
      </ul>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#encadenar-metodos">
       Encadenar métodos
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#ejemplo-6">
         Ejemplo 6
        </a>
       </li>
      </ul>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#multiples-operaciones-simultaneamente">
       Múltiples operaciones simultaneamente
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#ejemplo-7">
         Ejemplo 7
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#metodo-rename">
     2.7. Método
     <code class="docutils literal notranslate">
      <span class="pre">
       rename
      </span>
     </code>
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#ejemplo-8">
       Ejemplo 8
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#metodo-replace">
     2.8. Método
     <code class="docutils literal notranslate">
      <span class="pre">
       replace
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#metodo-stack">
     2.9. Método
     <code class="docutils literal notranslate">
      <span class="pre">
       stack
      </span>
     </code>
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#ejemplo-9">
       Ejemplo 9
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#metodo-unstack">
     2.10. Método
     <code class="docutils literal notranslate">
      <span class="pre">
       unstack
      </span>
     </code>
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#ejemplo-10">
       Ejemplo 10
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#referencias">
   Referencias
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#creditos">
   Créditos
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <img src="Archivos/miad4.png" width=800x>
<div class="section" id="modificar-bases-de-datos">
<h1>Modificar bases de datos<a class="headerlink" href="#modificar-bases-de-datos" title="Permalink to this headline">¶</a></h1>
<p>Al finalizar la exploración de una base de datos procedemos a modificarla. En este tutorial expandimos la explicación de los métodos de la librería <code class="docutils literal notranslate"><span class="pre">pandas</span></code> vistos anteriormente y presentamos métodos adicionales para integrarlos en procesos de modificación de bases de datos.</p>
<div class="section" id="requisitos">
<h2>Requisitos<a class="headerlink" href="#requisitos" title="Permalink to this headline">¶</a></h2>
<p>Para desarrollar este tutorial necesitarás:</p>
<ul class="simple">
<li><p>Importar archivos de texto.</p></li>
<li><p>Implementar filtrado condicional y filtrado numérico.</p></li>
<li><p>Utilizar los métodos básicos de los <code class="docutils literal notranslate"><span class="pre">Series</span></code> y los <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>.</p></li>
</ul>
</div>
<div class="section" id="objetivos">
<h2>Objetivos<a class="headerlink" href="#objetivos" title="Permalink to this headline">¶</a></h2>
<p>Al final de este tutorial podrás:</p>
<p><strong>1.</strong> Procesar archivos en formatos especiales. <br>
<strong>2.</strong> Modificar la estructura y el contenido de un <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>.</p>
</div>
<div class="section" id="procesamiento-de-archivos-en-formatos-especiales">
<h2>1. Procesamiento de archivos en formatos especiales<a class="headerlink" href="#procesamiento-de-archivos-en-formatos-especiales" title="Permalink to this headline">¶</a></h2>
<p>La librería <code class="docutils literal notranslate"><span class="pre">pandas</span></code> nos permite importar archivos en múltiples formatos para procesarlos como un <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>. Entre estos formatos, se encuentran los archivos de tipo texto, de tipo binario y de tipo SQL. En las referencias encuentras la lista completa de métodos de lectura y escritura según el tipo de archivo. A manera de ejemplo expondremos el método <code class="docutils literal notranslate"><span class="pre">read_fwf</span></code> el cuál permite procesar archivos de ancho fijo.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>pd.read_fwf(filepath_or_buffer, colspecs, **kwds)
</pre></div>
</div>
<ul class="simple">
<li><p><strong>filepath_or_buffer:</strong> ruta del archivo de texto a procesar.</p></li>
<li><p><strong>colspecs:</strong> lista de tuplas que identifica la posición donde empieza y termina cada columna. Especificando <code class="docutils literal notranslate"><span class="pre">colspecs</span> <span class="pre">=</span> <span class="pre">'infer'</span></code> el método infiere las columnas del archivo.</p></li>
<li><p>** <strong>kwds:</strong> indica que podemos especificar los parámetros disponibles en el método <code class="docutils literal notranslate"><span class="pre">read_csv</span></code>.</p></li>
</ul>
<div class="section" id="ejemplo-1">
<h3>Ejemplo 1<a class="headerlink" href="#ejemplo-1" title="Permalink to this headline">¶</a></h3>
<p>Retomemos el archivo <code class="docutils literal notranslate"><span class="pre">&quot;mfh.txt&quot;</span></code> (<em>Major foreign holders</em>) el cual contiene la distribución del monto de títulos del tesoro americano de los Estados Unidos que se encuentra en cuentas afuera de su país. Dado que este es un archivo de ancho fijo, utilizaremos parte del código que aprendimos anteriormente para obtener las posiciones de inicio y de fin de las columnas que conforman el archivo.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;Archivos/mfh.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">mfh</span><span class="p">:</span> 
    <span class="c1"># Leemos el archivo y lo almacenamos en una sola cadena de caracteres</span>
    <span class="n">mfh</span> <span class="o">=</span> <span class="n">mfh</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="c1"># Seleccionamos la cadena de caracteres que se encuentra entre la palabra &#39;Period&#39; y la palabra &#39;Grand&#39;</span>
    <span class="n">mfh</span> <span class="o">=</span> <span class="n">mfh</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;PERIOD&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;Grand&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="c1"># Declaramos una lista con las líneas de nuestra cadena de caracteres</span>
    <span class="n">lista_mfh</span> <span class="o">=</span> <span class="n">mfh</span><span class="o">.</span><span class="n">splitlines</span><span class="p">()</span>
    <span class="c1"># Nos quedamos únicamente con las líneas no vacías</span>
    <span class="n">lista_mfh</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">lista_mfh</span> <span class="k">if</span> <span class="n">x</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>Declaramos las siguientes variables:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Lista vacía para almacenar las posiciones de inicio de cada columna de números.</span>
<span class="n">lista_inicio_cols</span> <span class="o">=</span> <span class="p">[]</span>
<span class="c1"># Lista vacía para almacenar la última posición de cada columna de números. </span>
<span class="n">lista_fin_cols</span> <span class="o">=</span> <span class="p">[]</span>
<span class="c1"># Cadena de caracteres que almacena la fila de guíones contenida en el archivo.</span>
<span class="n">fila_guiones</span> <span class="o">=</span> <span class="n">lista_mfh</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="c1"># Variable de tipo entero para marcar el inicio de la busqueda a partir de cada columna. </span>
<span class="n">inicio_columna</span> <span class="o">=</span> <span class="mi">0</span>
<span class="c1"># Variable de tipo lógica para indicar si ya llegamos al final de la lista.</span>
<span class="n">criterio_parada</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
</div>
</div>
<p>Iteramos mientras el booleano se mantenga igual a <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">while</span><span class="p">(</span><span class="n">criterio_parada</span><span class="p">):</span>
    <span class="c1"># Declaramos el inicio de una nueva columna encontrando la palabra guión.</span>
    <span class="n">pos_inicio</span> <span class="o">=</span> <span class="n">inicio_columna</span> <span class="o">+</span> <span class="n">fila_guiones</span><span class="p">[</span><span class="n">inicio_columna</span><span class="p">:]</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">)</span>
    <span class="c1"># Declaramos el ancho de la columna encontrando el siguiente espacio vacío.  </span>
    <span class="n">ancho_columna</span> <span class="o">=</span> <span class="n">fila_guiones</span><span class="p">[</span><span class="n">pos_inicio</span><span class="p">:]</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
    <span class="c1"># Si encuentra dicho espacio</span>
    <span class="k">if</span><span class="p">(</span><span class="n">ancho_columna</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
        <span class="c1"># Almacenamos la posición de inicio de la columna.</span>
        <span class="n">lista_inicio_cols</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pos_inicio</span><span class="p">)</span>
        <span class="c1"># Declaramos la posición final de la columna.</span>
        <span class="n">pos_final</span> <span class="o">=</span> <span class="n">pos_inicio</span> <span class="o">+</span> <span class="n">ancho_columna</span> 
        <span class="c1"># Almacenamos la posición final de la columna.</span>
        <span class="n">lista_fin_cols</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pos_final</span><span class="p">)</span> 
        <span class="c1"># Actualizamos el inicio de la columna para la siguiente iteración.</span>
        <span class="n">inicio_columna</span> <span class="o">=</span> <span class="n">pos_final</span>
    <span class="c1">#Si no se pudo encontrar mas espacios no se se sigue iterando ya que no hay mas columnas.    </span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">criterio_parada</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
</div>
</div>
<p>El código anterior nos permite obtener las posiciones en las que empiezan y finalizan las columnas de números. Entonces agreguemos la tupla que contiene la posición donde empieza la columna de países (posición 0) y la posición donde empieza la primera columna de números.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ancho_cols</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">0</span><span class="p">,</span><span class="n">lista_inicio_cols</span><span class="p">[</span><span class="mi">0</span><span class="p">])]</span><span class="o">+</span><span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">lista_inicio_cols</span><span class="p">,</span> <span class="n">lista_fin_cols</span><span class="p">))</span>
<span class="n">ancho_cols</span>
</pre></div>
</div>
</div>
</div>
<p>Importemos las librerías necesarias.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span> 
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</pre></div>
</div>
</div>
</div>
<p>Luego, utilizamos el método <code class="docutils literal notranslate"><span class="pre">read_fwf</span></code> para leer el archivo, omitiendo las filas correspondientes al encabezado y al pie de tabla. Además, para efectos de este tutorial debemos omitir los registros correspondientes al gran recuento total (‘Grand Total’) y los demás países (‘All other’).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mfh</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_fwf</span><span class="p">(</span><span class="s2">&quot;Archivos/mfh.txt&quot;</span><span class="p">,</span> <span class="n">skiprows</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">),</span> <span class="n">skipfooter</span> <span class="o">=</span> <span class="mi">21</span><span class="p">,</span>
                  <span class="n">colspecs</span> <span class="o">=</span> <span class="n">ancho_cols</span><span class="p">,</span> <span class="n">index_col</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">header</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="c1"># Eliminamos las dos primeras entradas ya que no contienen información relevante. </span>
<span class="n">mfh</span> <span class="o">=</span> <span class="n">mfh</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
<span class="n">mfh</span>
</pre></div>
</div>
</div>
</div>
<p>Al observar el <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> de la celda anterior nos damos cuenta que sería deseable rotular correctamente los niveles de las columnas y el índice, para esto podemos usar el método <code class="docutils literal notranslate"><span class="pre">rename_axis</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mfh</span> <span class="o">=</span> <span class="n">mfh</span><span class="o">.</span><span class="n">rename_axis</span><span class="p">(</span><span class="s2">&quot;Pais&quot;</span><span class="p">)</span>
<span class="n">mfh</span> <span class="o">=</span> <span class="n">mfh</span><span class="o">.</span><span class="n">rename_axis</span><span class="p">([</span><span class="s2">&quot;Mes&quot;</span><span class="p">,</span><span class="s2">&quot;Año&quot;</span><span class="p">],</span> <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">mfh</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="metodos-para-la-modificacion-de-bases-de-datos">
<h2>2. Métodos para la modificación de bases de datos<a class="headerlink" href="#metodos-para-la-modificacion-de-bases-de-datos" title="Permalink to this headline">¶</a></h2>
<div class="section" id="metodo-set-index">
<h3>2.1. Método <code class="docutils literal notranslate"><span class="pre">set_index</span></code><a class="headerlink" href="#metodo-set-index" title="Permalink to this headline">¶</a></h3>
<p>Permite utilizar una o varias columnas para sustituir o modificar el índice de un <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>. Además de columnas podemos utilizar arreglos de <code class="docutils literal notranslate"><span class="pre">pandas</span></code> (<code class="docutils literal notranslate"><span class="pre">Series</span></code> e <code class="docutils literal notranslate"><span class="pre">Index</span></code>) o de arreglos de <code class="docutils literal notranslate"><span class="pre">numpy</span></code>.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>pandas.DataFrame.set_index(keys, drop, append, inplace, verify_integrity)
</pre></div>
</div>
<ul class="simple">
<li><p><strong>keys:</strong> indica la(s) llave(s) a usar como nuevo índice.</p></li>
<li><p><strong>drop:</strong> elimina del <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> las columnas que se emplearon como llaves en el método. Por defecto es <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
<li><p><strong>append:</strong> preseva el índice original de la base de datos y le agrega la llave ingresada por parámetro. Por defecto es <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><strong>inplace:</strong> por defecto es <code class="docutils literal notranslate"><span class="pre">False</span></code>. <br><br></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">inplace</span> <span class="pre">=</span> <span class="pre">True</span></code>: retorna <code class="docutils literal notranslate"><span class="pre">None</span></code> y  ejecuta las operaciones sobre el dataframe oríginal. <br></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">inplace</span> <span class="pre">=</span> <span class="pre">False</span></code>: retorna una copia del <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> con las modificaciones. <br><br></p></li>
</ul>
</li>
<li><p><strong>verify_integrity:</strong> solo aplica si ignore_index = False. Por defecto, <code class="docutils literal notranslate"><span class="pre">verify_integrity</span> <span class="pre">=</span> <span class="pre">False</span></code>.<br><br></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">verify_integrity</span> <span class="pre">=</span> <span class="pre">True</span></code>: arroja ValueError si en el DataFrame resultante hay indices duplicados.<br></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">verify_integrity</span> <span class="pre">=</span> <span class="pre">False</span></code>: permite tener índices repetidos en el DataFrame resultante.<br><br></p></li>
</ul>
</li>
</ul>
<p><strong>Nota:</strong> si utilizamos un arreglo externo al dataframe, debemos asegurarnos que tenga el mismo tamaño que el que tiene actualmente el <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>.</p>
<div class="section" id="ejemplo-2">
<h4>Ejemplo 2<a class="headerlink" href="#ejemplo-2" title="Permalink to this headline">¶</a></h4>
<p>Requerimos analizar como se distribuye la tenencia de los títulos del tesoros entre dos grupos de países: los países miembros de la OECD y los países llamados paraísos fiscales. Ambos grupos no son mutuamente excluyentes por lo que pueden haber coincidencias entre ambos. A continuación, se encuentra declarada una lista para cada grupo de países.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">lista_paraisos_fiscales</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Belgium&quot;</span><span class="p">,</span> <span class="s2">&quot;Ireland&quot;</span><span class="p">,</span> <span class="s2">&quot;Luxembourg&quot;</span><span class="p">,</span> <span class="s2">&quot;Malta&quot;</span><span class="p">,</span> <span class="s2">&quot;Netherlands&quot;</span><span class="p">,</span> <span class="s2">&quot;Cayman Island&quot;</span><span class="p">,</span>
                           <span class="s2">&quot;Singapore&quot;</span><span class="p">,</span> <span class="s2">&quot;Puerto Rico&quot;</span><span class="p">,</span> <span class="s2">&quot;Hong Kong&quot;</span><span class="p">,</span> <span class="s2">&quot;Switzerland&quot;</span><span class="p">]</span>

<span class="n">lista_oecd</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Austria&quot;</span><span class="p">,</span> <span class="s2">&quot;Australia&quot;</span><span class="p">,</span> <span class="s2">&quot;Belgium&quot;</span><span class="p">,</span> <span class="s2">&quot;Canada&quot;</span><span class="p">,</span> <span class="s2">&quot;Chile&quot;</span><span class="p">,</span> <span class="s2">&quot;Colombia&quot;</span><span class="p">,</span> <span class="s2">&quot;Czech Republic&quot;</span><span class="p">,</span> <span class="s2">&quot;Denmark&quot;</span><span class="p">,</span> 
              <span class="s2">&quot;Estonia&quot;</span><span class="p">,</span> <span class="s2">&quot;Finland&quot;</span><span class="p">,</span> <span class="s2">&quot;France&quot;</span><span class="p">,</span> <span class="s2">&quot;Germany&quot;</span><span class="p">,</span> <span class="s2">&quot;Greece&quot;</span><span class="p">,</span> <span class="s2">&quot;Hungary&quot;</span><span class="p">,</span> <span class="s2">&quot;Iceland&quot;</span><span class="p">,</span> <span class="s2">&quot;Ireland&quot;</span><span class="p">,</span> <span class="s2">&quot;Israel&quot;</span><span class="p">,</span> 
              <span class="s2">&quot;Italy&quot;</span><span class="p">,</span> <span class="s2">&quot;Japan&quot;</span><span class="p">,</span> <span class="s2">&quot;Korea&quot;</span><span class="p">,</span> <span class="s2">&quot;Latvia&quot;</span><span class="p">,</span> <span class="s2">&quot;Lithuania&quot;</span><span class="p">,</span> <span class="s2">&quot;Luxembourg&quot;</span><span class="p">,</span> <span class="s2">&quot;Mexico&quot;</span><span class="p">,</span>  <span class="s2">&quot;Netherlands&quot;</span><span class="p">,</span> 
              <span class="s2">&quot;New Zealand&quot;</span><span class="p">,</span> <span class="s2">&quot;Norway&quot;</span><span class="p">,</span> <span class="s2">&quot;Poland&quot;</span><span class="p">,</span> <span class="s2">&quot;Portugal&quot;</span><span class="p">,</span> <span class="s2">&quot;Slovak Republic&quot;</span><span class="p">,</span> <span class="s2">&quot;Slovenia&quot;</span><span class="p">,</span> <span class="s2">&quot;Spain&quot;</span><span class="p">,</span> <span class="s2">&quot;Sweden&quot;</span><span class="p">,</span> 
              <span class="s2">&quot;Switzerland&quot;</span><span class="p">,</span> <span class="s2">&quot;Turkey&quot;</span><span class="p">,</span> <span class="s2">&quot;United Kingdom&quot;</span><span class="p">,</span> <span class="s2">&quot;United States&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>Creamos las columnas correspondientes para posteriormente añadirlas al índice.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Creamos las columnas &quot;Clasificación Fiscal&quot; y &quot;OECD&quot; </span>
<span class="n">mfh</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s1">&#39;Clasificación_Fiscal&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Tributación Regular&quot;</span>
<span class="n">mfh</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s1">&#39;OECD&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;No pertenece&quot;</span>
<span class="c1"># Definimos cuales países son considerado paraisos fiscales y cuáles son miembros de la OECD</span>
<span class="n">mfh</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">mfh</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">lista_paraisos_fiscales</span><span class="p">),</span> <span class="s1">&#39;Clasificación_Fiscal&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Paraiso Fiscal&quot;</span>
<span class="n">mfh</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">mfh</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">lista_oecd</span><span class="p">),</span> <span class="s1">&#39;OECD&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Pertenece&quot;</span>
<span class="c1"># Utilizamos set_index para añadir estas columnas al índice</span>
<span class="n">mfh</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="n">keys</span> <span class="o">=</span><span class="p">[</span><span class="s1">&#39;Clasificación_Fiscal&#39;</span><span class="p">,</span><span class="s1">&#39;OECD&#39;</span><span class="p">],</span> <span class="n">append</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="n">mfh</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="metodo-reset-index">
<h3>2.2. Método <code class="docutils literal notranslate"><span class="pre">reset_index</span></code><a class="headerlink" href="#metodo-reset-index" title="Permalink to this headline">¶</a></h3>
<p>Resetea el índice de un <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>. Si se trata de un multi-índice permite eliminar uno o más niveles, dejando la opción de preservarlos como columnas.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>pandas.DataFrame.reset_index(level, drop)
</pre></div>
</div>
<ul class="simple">
<li><p><strong>level:</strong> etiqueta o índice del multi-índice a eliminar. <br><br></p></li>
<li><p><strong>drop:</strong> por defecto es <code class="docutils literal notranslate"><span class="pre">False</span></code> <br><br>
<code class="docutils literal notranslate"><span class="pre">Drop</span> <span class="pre">=</span> <span class="pre">True</span></code>: se eliminan los niveles. <br><br>
<code class="docutils literal notranslate"><span class="pre">Drop</span> <span class="pre">=</span> <span class="pre">False</span></code>: los niveles pasan a ser una columna.</p></li>
</ul>
</div>
<div class="section" id="metodo-drop">
<h3>2.3. Método <code class="docutils literal notranslate"><span class="pre">drop</span></code><a class="headerlink" href="#metodo-drop" title="Permalink to this headline">¶</a></h3>
<p>Permite eliminar filas o columnas especificando su nombre o su índice.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>pandas.DataFrame.drop(labels, axis, index, columns, level, inplace, errors)
</pre></div>
</div>
<ul class="simple">
<li><p><strong>labels:</strong> indica el nombre o la posición de las filas o columnas a eliminar.</p></li>
<li><p><strong>axis:</strong> por defecto es 0. <br><br></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">axis</span> <span class="pre">=</span> <span class="pre">1</span></code>: indica que vamos a eliminar columnas. <br></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">axis</span> <span class="pre">=</span> <span class="pre">0</span></code>: indica que vamos a eliminar filas.<br><br></p></li>
</ul>
</li>
<li><p><strong>index:</strong> se utiliza únicamente para eliminar filas, especificando el nombre o el índice de las filas a eliminar. Cuando utilizamos este parámetro no es necesario utilizar los parámetros <code class="docutils literal notranslate"><span class="pre">labels</span></code> y <code class="docutils literal notranslate"><span class="pre">axis</span></code>.</p></li>
<li><p><strong>columns:</strong> se utiliza únicamente para eliminar columnas, especificando el nombre o el índice de las columnas a eliminar. Cuando utilizamos este parámetro no es necesario utilizar los parámetros <code class="docutils literal notranslate"><span class="pre">labels</span></code> y <code class="docutils literal notranslate"><span class="pre">axis</span></code>.</p></li>
<li><p><strong>level:</strong> indica por nombre o por posición a cuál de los niveles del índice múltiple se le aplicará el método.</p></li>
<li><p><strong>inplace:</strong> por defecto es <code class="docutils literal notranslate"><span class="pre">False</span></code>. <br><br></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">inplace</span> <span class="pre">=</span> <span class="pre">True</span></code>: retorna <code class="docutils literal notranslate"><span class="pre">None</span></code> y  ejecuta las operaciones sobre el dataframe oríginal. <br></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">inplace</span> <span class="pre">=</span> <span class="pre">False</span></code>: retorna una copia del <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> con las modificaciones. <br><br></p></li>
</ul>
</li>
</ul>
<div class="section" id="ejemplo-3">
<h4>Ejemplo 3<a class="headerlink" href="#ejemplo-3" title="Permalink to this headline">¶</a></h4>
<p>Requerimos eliminar las observaciones del <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> <code class="docutils literal notranslate"><span class="pre">mfh</span></code> correspondientes al año 2020, y almacenar el <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> resultante en un <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> llamado <code class="docutils literal notranslate"><span class="pre">mfh_2021</span></code>.</p>
<p>Procedemos entonces utilizando el método <code class="docutils literal notranslate"><span class="pre">drop</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mfh_2021</span> <span class="o">=</span> <span class="n">mfh</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">labels</span> <span class="o">=</span> <span class="s1">&#39;2020&#39;</span><span class="p">,</span> <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">level</span> <span class="o">=</span> <span class="mi">1</span> <span class="p">)</span>  
<span class="n">mfh_2021</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="metodo-groupby">
<h3>2.4. Método <code class="docutils literal notranslate"><span class="pre">Groupby</span></code><a class="headerlink" href="#metodo-groupby" title="Permalink to this headline">¶</a></h3>
<p>El método groupby permite realizar las siguientes tres operaciones a la vez:</p>
<ul class="simple">
<li><p>(1) Separar en grupos el <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> de acuerdo a un criterio.</p></li>
<li><p>(2) Aplicar una función a cada grupo.</p></li>
<li><p>(3) Combinar los resultados en un nuevo <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>.</p></li>
</ul>
<p>La sintaxis para usar groupby es la siguiente:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>pandas.DataFrame.groupby(by, axis, level)
</pre></div>
</div>
<ul class="simple">
<li><p><strong>by:</strong> indica el criterio para realizar el paso (1). Puede usarse un diccionario, un <code class="docutils literal notranslate"><span class="pre">Series</span></code>, entre otros.</p></li>
<li><p><strong>axis:</strong> por defecto es 0. <br><br></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">axis</span> <span class="pre">=</span> <span class="pre">1</span></code>: indica que vamos a agrupar columnas. <br></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">axis</span> <span class="pre">=</span> <span class="pre">0</span></code>: indica que vamos a agrupar filas.<br><br></p></li>
</ul>
</li>
<li><p><strong>level:</strong> indica por nombre o por posición a cuál de los niveles del índice múltiple se le aplicará el método.</p></li>
</ul>
<div class="section" id="ejemplo-4">
<h4>Ejemplo 4<a class="headerlink" href="#ejemplo-4" title="Permalink to this headline">¶</a></h4>
<p>Requerimos un <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> llamado <code class="docutils literal notranslate"><span class="pre">mfh_resumen</span></code> que sume el total de títulos del tesoro para los niveles del índice múltiple.</p>
<p>Transformamos los valores de nuestro <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> a <code class="docutils literal notranslate"><span class="pre">float</span></code> y después aplicamos el método <code class="docutils literal notranslate"><span class="pre">groupby</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mfh</span> <span class="o">=</span> <span class="n">mfh</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>
<span class="n">mfh_resumen</span> <span class="o">=</span> <span class="n">mfh</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">level</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Clasificación_Fiscal&#39;</span><span class="p">,</span><span class="s1">&#39;OECD&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">mfh_resumen</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="metodo-apply">
<h3>2.5. Método <code class="docutils literal notranslate"><span class="pre">apply</span></code><a class="headerlink" href="#metodo-apply" title="Permalink to this headline">¶</a></h3>
<p>El método <code class="docutils literal notranslate"><span class="pre">apply</span></code> lleva a cabo una función bien sea sobre las columnas o sobre las filas de un <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>pandas.DataFrame.apply(func, axis)
</pre></div>
</div>
<ul class="simple">
<li><p><strong>func:</strong> función a aplicar. <br><br></p></li>
<li><p><strong>axis:</strong>  por defecto es 0. <br><br></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">axis</span> <span class="pre">=</span> <span class="pre">1</span></code>: indica que vamos a aplicar la función sobre las columnas. <br></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">axis</span> <span class="pre">=</span> <span class="pre">0</span></code>: indica que vamos a aplicar la función sobre las filas.<br><br></p></li>
</ul>
</li>
</ul>
<p>A continuación explicaremos tres ventajas que presenta el método <code class="docutils literal notranslate"><span class="pre">apply</span></code>:</p>
<div class="section" id="trabajar-con-funciones-declaradas-previamente">
<h4>Trabajar con funciones declaradas previamente<a class="headerlink" href="#trabajar-con-funciones-declaradas-previamente" title="Permalink to this headline">¶</a></h4>
<p>El parámetro <code class="docutils literal notranslate"><span class="pre">func</span></code> puede tomar el valor de una función declarada previamente.</p>
<div class="section" id="ejemplo-5">
<h5>Ejemplo 5<a class="headerlink" href="#ejemplo-5" title="Permalink to this headline">¶</a></h5>
<p>Requerimos calcular el porcentaje de títulos distribuido en las cuentas de los países clasificados como paraíso fiscal y guardar este resultado en un <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> llamado <code class="docutils literal notranslate"><span class="pre">mfh_paraisos_fiscales</span></code>.</p>
<p>Para esto declaramos la función <code class="docutils literal notranslate"><span class="pre">calcular_porcentaje</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">calcular_porcentaje</span><span class="p">(</span><span class="n">lista</span><span class="p">):</span>
    
    <span class="n">rta</span> <span class="o">=</span> <span class="n">lista</span> <span class="o">/</span> <span class="nb">sum</span><span class="p">(</span><span class="n">lista</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">rta</span> 
</pre></div>
</div>
</div>
</div>
<p>Después la usamos como parámetro del método <code class="docutils literal notranslate"><span class="pre">apply</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Declaramos el Segmentador de Índices</span>
<span class="n">idx</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">IndexSlice</span>
<span class="n">mfh_paraisos_fiscales</span> <span class="o">=</span> <span class="n">mfh</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">[:,</span><span class="s1">&#39;Paraiso Fiscal&#39;</span><span class="p">,],]</span>
<span class="n">mfh_paraisos_fiscales</span> <span class="o">=</span> <span class="n">mfh_paraisos_fiscales</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">calcular_porcentaje</span><span class="p">)</span>
<span class="n">mfh_paraisos_fiscales</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="encadenar-metodos">
<h4>Encadenar métodos<a class="headerlink" href="#encadenar-metodos" title="Permalink to this headline">¶</a></h4>
<p>En <code class="docutils literal notranslate"><span class="pre">pandas</span></code> podemos encadenar métodos, esto significa que se puede invocar un método tras otro sin redefinir el <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> repetidamente. El método <code class="docutils literal notranslate"><span class="pre">apply</span></code> puede encadenarse con otros métodos, lo que resulta práctico en términos de ahorro de líneas de código y claridad de lectura.</p>
<div class="section" id="ejemplo-6">
<h5>Ejemplo 6<a class="headerlink" href="#ejemplo-6" title="Permalink to this headline">¶</a></h5>
<p>Filtra la base para solo trabajar con aquellos países que son parte de la OECD, de tal forma que pueda calcular el porcentaje de títulos bajo posesión de cada país.</p>
<p>Hacemos entonces el filtrado y directamente realizamos el <code class="docutils literal notranslate"><span class="pre">apply</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mfh_oecd</span> <span class="o">=</span> <span class="n">mfh</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">[:,:,</span><span class="s1">&#39;Pertenece&#39;</span><span class="p">],]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">calcular_porcentaje</span><span class="p">,</span><span class="n">axis</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">mfh_oecd</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="multiples-operaciones-simultaneamente">
<h4>Múltiples operaciones simultaneamente<a class="headerlink" href="#multiples-operaciones-simultaneamente" title="Permalink to this headline">¶</a></h4>
<p>El método <code class="docutils literal notranslate"><span class="pre">apply</span></code> permite ejecutar varias operaciones a la vez, lo cual nos ahorra líneas de código o encadenar más métodos de los necesarios.</p>
<div class="section" id="ejemplo-7">
<h5>Ejemplo 7<a class="headerlink" href="#ejemplo-7" title="Permalink to this headline">¶</a></h5>
<p>Requerimos nuevamente filtrar la base para solo trabajar con aquellos países que son parte de la OECD, de tal forma que calculemos el porcentaje de títulos bajo posesión de cada país. Esta vez, redondearemos el resultado a tres cifras decimales.</p>
<p>Una manera de solucionar este requerimiento es utilizar la división de objetos y el método <code class="docutils literal notranslate"><span class="pre">round</span></code> de <code class="docutils literal notranslate"><span class="pre">pandas</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mfh_oecd</span> <span class="o">=</span> <span class="n">mfh</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">[:,:,</span><span class="s1">&#39;Pertenece&#39;</span><span class="p">],]</span>
<span class="n">mfh_oecd_norm</span> <span class="o">=</span> <span class="p">(</span><span class="n">mfh_oecd</span> <span class="o">/</span> <span class="n">mfh_oecd</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="n">mfh_oecd_norm</span>
</pre></div>
</div>
</div>
</div>
<p>En cambio podríamos haber usado una sola línea de código para cubrir este requerimiento.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mfh_oecd_norm</span> <span class="o">=</span> <span class="n">mfh</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">[:,:,</span><span class="s1">&#39;Pertenece&#39;</span><span class="p">],]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">round</span><span class="p">(</span><span class="n">x</span> <span class="o">/</span> <span class="n">x</span><span class="o">.</span><span class="n">sum</span><span class="p">(),</span><span class="mi">3</span><span class="p">))</span>
<span class="n">mfh_oecd_norm</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="metodo-rename">
<h3>2.7. Método <code class="docutils literal notranslate"><span class="pre">rename</span></code><a class="headerlink" href="#metodo-rename" title="Permalink to this headline">¶</a></h3>
<p>El método <code class="docutils literal notranslate"><span class="pre">rename</span></code> sirve para renombrar columnas o índices.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>pandas.DataFrame.rename(mapper, index, columns, axis, inplace, level)
</pre></div>
</div>
<ul class="simple">
<li><p><strong>mapper:</strong> diccionario o función para renombrar las columnas o índices. <br><br></p></li>
<li><p><strong>index:</strong> diccionario o función para renombrar índices. Cuando utilizamos este parámetro no es necesario utilizar los parámetros <code class="docutils literal notranslate"><span class="pre">mapper</span></code> y <code class="docutils literal notranslate"><span class="pre">axis</span></code>. <br><br></p></li>
<li><p><strong>columns:</strong> diccionario o función para renombrar columnas. Cuando utilizamos este parámetro no es necesario utilizar los parámetros <code class="docutils literal notranslate"><span class="pre">mapper</span></code> y <code class="docutils literal notranslate"><span class="pre">axis</span></code>. <br><br></p></li>
<li><p><strong>axis:</strong> por defecto es 0. <br><br></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">axis</span> <span class="pre">=</span> <span class="pre">1</span></code>:  indica que vamos a renombrar columnas.<br></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">axis</span> <span class="pre">=</span> <span class="pre">0</span></code>: indica que vamos a renombrar filas.<br></p></li>
</ul>
</li>
<li><p><strong>inplace:</strong> por defecto es <code class="docutils literal notranslate"><span class="pre">False</span></code>. <br><br></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">inplace</span> <span class="pre">=</span> <span class="pre">True</span></code>: retorna <code class="docutils literal notranslate"><span class="pre">None</span></code> y  ejecuta las operaciones sobre el dataframe oríginal. <br></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">inplace</span> <span class="pre">=</span> <span class="pre">False</span></code>: retorna una copia del <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> con las modificaciones. <br><br></p></li>
</ul>
</li>
<li><p><strong>level:</strong> indica por nombre o por posición a cuál de los niveles del índice múltiple se le debe aplicar el diccionario o la función.</p></li>
</ul>
<div class="section" id="ejemplo-8">
<h4>Ejemplo 8<a class="headerlink" href="#ejemplo-8" title="Permalink to this headline">¶</a></h4>
<p>En la siguiente celda encuentras un diccionario con los nombres de los países en inglés y en español.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_paises</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;Archivos/DiccionarioPaises.csv&quot;</span><span class="p">,</span> <span class="n">encoding</span> <span class="o">=</span> <span class="s1">&#39;utf-8-sig&#39;</span><span class="p">,</span> <span class="n">sep</span> <span class="o">=</span> <span class="s2">&quot;;&quot;</span><span class="p">,</span> <span class="n">index_col</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">dicc_paises</span> <span class="o">=</span> <span class="n">df_paises</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()[</span><span class="s1">&#39;País en español&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>A continuación encuentras un diccionario con las abreviaturas de los meses en inglés y en español.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dicc_meses</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Jan&#39;</span><span class="p">:</span><span class="s1">&#39;ENE&#39;</span><span class="p">,</span> <span class="s1">&#39;Feb&#39;</span><span class="p">:</span> <span class="s1">&#39;FEB&#39;</span><span class="p">,</span> <span class="s1">&#39;Mar&#39;</span><span class="p">:</span><span class="s1">&#39;MAR&#39;</span><span class="p">,</span> <span class="s1">&#39;Apr&#39;</span><span class="p">:</span><span class="s1">&#39;ABR&#39;</span><span class="p">,</span> <span class="s1">&#39;May&#39;</span><span class="p">:</span><span class="s1">&#39;MAY&#39;</span> <span class="p">,</span><span class="s1">&#39;Jun&#39;</span><span class="p">:</span> <span class="s1">&#39;JUN&#39;</span><span class="p">,</span> <span class="s1">&#39;Jul&#39;</span><span class="p">:</span><span class="s1">&#39;JUL&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;Aug&#39;</span><span class="p">:</span> <span class="s1">&#39;AGO&#39;</span><span class="p">,</span> <span class="s1">&#39;Sep&#39;</span><span class="p">:</span> <span class="s1">&#39;SEP&#39;</span><span class="p">,</span> <span class="s1">&#39;Oct&#39;</span><span class="p">:</span><span class="s1">&#39;OCT&#39;</span><span class="p">,</span><span class="s1">&#39;Nov&#39;</span><span class="p">:</span><span class="s1">&#39;NOV&#39;</span><span class="p">,</span> <span class="s1">&#39;Dec&#39;</span><span class="p">:</span><span class="s1">&#39;DIC&#39;</span><span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<p>Requerimos traducir al español los meses y países del <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> utilizando los diccionarios provistos</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mfh</span> <span class="o">=</span> <span class="n">mfh</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">mapper</span> <span class="o">=</span> <span class="n">dicc_paises</span><span class="p">)</span>
<span class="n">mfh</span> <span class="o">=</span> <span class="n">mfh</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="n">dicc_meses</span><span class="p">)</span> 
<span class="n">mfh</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="metodo-replace">
<h3>2.8. Método <code class="docutils literal notranslate"><span class="pre">replace</span></code><a class="headerlink" href="#metodo-replace" title="Permalink to this headline">¶</a></h3>
<p>El método <code class="docutils literal notranslate"><span class="pre">replace</span></code> usa la siguiente sintaxis para reemplazar un valor por otro.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>pandas.DataFrame.replace( to_replace, value, inplace) 
</pre></div>
</div>
<ul class="simple">
<li><p><strong>to_replace:</strong> valor específico, estructura de datos. <br><br></p></li>
<li><p><strong>value:</strong> valor que sustituirá el valor a reemplazar.<br><br></p></li>
<li><p><strong>inplace:</strong> por defecto es <code class="docutils literal notranslate"><span class="pre">False</span></code>. <br><br></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">inplace</span> <span class="pre">=</span> <span class="pre">True</span></code>: retorna <code class="docutils literal notranslate"><span class="pre">None</span></code> y  ejecuta las operaciones sobre el dataframe oríginal. <br></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">inplace</span> <span class="pre">=</span> <span class="pre">False</span></code>: retorna una copia del <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> con las modificaciones. <br><br></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="metodo-stack">
<h3>2.9. Método <code class="docutils literal notranslate"><span class="pre">stack</span></code><a class="headerlink" href="#metodo-stack" title="Permalink to this headline">¶</a></h3>
<p>El método <code class="docutils literal notranslate"><span class="pre">stack</span></code> transfiere uno o varios niveles de las columnas al índice. Al emplearlo, el número de niveles del índice se va a ver aumentando y el número de niveles de las columnas se va a ver disminuido.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>pandas.DataFrame.stack(level, fill_value) 
</pre></div>
</div>
<ul class="simple">
<li><p><strong>level:</strong> nombre o índice del nivel a transferir. Por defecto es -1 (el último nivel)</p></li>
<li><p><strong>fill_value:</strong> valor para reemplazar los datos faltantes que se generen.</p></li>
</ul>
<div class="section" id="ejemplo-9">
<h4>Ejemplo 9<a class="headerlink" href="#ejemplo-9" title="Permalink to this headline">¶</a></h4>
<p>Pasa el nivel correspondiente a los meses al índice de <code class="docutils literal notranslate"><span class="pre">mfh_2021</span></code>.</p>
<p>Procedemos entonces usando el método <code class="docutils literal notranslate"><span class="pre">stack</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mfh_2021</span> <span class="o">=</span> <span class="n">mfh_2021</span><span class="o">.</span><span class="n">stack</span><span class="p">(</span><span class="s2">&quot;Mes&quot;</span><span class="p">)</span> 
<span class="n">mfh_2021</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="metodo-unstack">
<h3>2.10. Método <code class="docutils literal notranslate"><span class="pre">unstack</span></code><a class="headerlink" href="#metodo-unstack" title="Permalink to this headline">¶</a></h3>
<p>El método <code class="docutils literal notranslate"><span class="pre">unstack</span></code> transfiere uno o varios niveles del índice a las columna. Al emplearlo, el número de niveles de las columnas se va a ver aumentando y el número de niveles del índice se va a ver disminuido.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>pandas.DataFrame.unstack(level, fill_value) 
</pre></div>
</div>
<ul class="simple">
<li><p><strong>level:</strong> nombre o índice del nivel a transferir. Por defecto es -1 (el último nivel)</p></li>
<li><p><strong>fill_value:</strong> valor para reemplazar los datos faltantes que se generen.</p></li>
</ul>
<div class="section" id="ejemplo-10">
<h4>Ejemplo 10<a class="headerlink" href="#ejemplo-10" title="Permalink to this headline">¶</a></h4>
<p>Se te solicita revertir el cambio realizado en el ejemplo anterior.</p>
<p>Utilizamos el método <code class="docutils literal notranslate"><span class="pre">unstack</span></code> para revertir el cambio realizado.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mfh_2021</span> <span class="o">=</span> <span class="n">mfh_2021</span><span class="o">.</span><span class="n">unstack</span><span class="p">(</span><span class="s2">&quot;Mes&quot;</span><span class="p">)</span>
<span class="n">mfh_2021</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="referencias">
<h2>Referencias<a class="headerlink" href="#referencias" title="Permalink to this headline">¶</a></h2>
<p>Pandas (2021). Documentación sobre I/O tools (text, CSV, HDF5…). Recuperado el 24 de Abril de 2020 de: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/io.html">https://pandas.pydata.org/pandas-docs/stable/user_guide/io.html</a></p>
<p>Pandas (2020). Documentación sobre los objetos índices. Recuperado el 15 de mayo de 2020 de: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.IndexSlice.html">https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.IndexSlice.html</a></p>
<p>Pandas (2020). Documentación sobre los métodos DataFrame. Recuperado el 15 de mayo de 2020 de: <a class="reference external" href="https://pandas.pydata.org/docs/reference/frame.html">https://pandas.pydata.org/docs/reference/frame.html</a></p>
<p>Departamento del Tesoro Americano (2020). Principales tenedores foráneos de títulos del tesoro [Base de Datos]. Recuperado el  15 de septiembre de 2020 de :
<a class="reference external" href="https://ticdata.treasury.gov/Publish/mfh.txt">https://ticdata.treasury.gov/Publish/mfh.txt</a>.</p>
</div>
<div class="section" id="creditos">
<h2>Créditos<a class="headerlink" href="#creditos" title="Permalink to this headline">¶</a></h2>
<p><strong>Autor(es):</strong> Jorge Esteban Camargo Forero, Alejandro Mantilla Redondo,Diego Alejandro Cely Gómez</p>
<p><strong>Fecha Última actualización:</strong> 19/09/2021</p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "mantimantilla/LCA-web-tutorials",
            ref: "main",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./Laboratorio-Computacional-de-Analytics/S4 - Explorar, visualizar, y modificar bases de datos/S4.TU3"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
            



<div class='prev-next-bottom'>
    

</div>
        
        </div>
    </div>
    <footer class="footer">
    <div class="container">
      <p>
        
          By Equipo de LCA<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../../../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>